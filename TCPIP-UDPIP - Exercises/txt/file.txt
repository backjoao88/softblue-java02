_______________________

CLIENTE

_______________________


SOCKET client = NEW SOCKET // SOCKET DO CLIENTE PARA COMUNICAR COM O SERVIDOR

IN = STREAM DE ENTRADA DO CLIENTE
OUT = STREAM DE SAÍDA DO CLIENTE

ESCREVA('SEU NOME: ')
LEIA(NOME)

ESCREVA PARA O SERVIDOR(OUT) = NOME

SE ( O SERVIDOR RESPONDER OK) 
	// ENTÃO O CLIENTE PODE INICIAR O LISTENER
	
	LISTENER L = CRIAR O LISTENER COM O IN DE PARÂMETRO
	INICIA O LISTENER

	ENQUANTO (QUISER CONTINUAR NO SERVIDOR)
		ESCREVA('DIGITE UMA MENSAGEM')
		LEIA(MSG)
		ESCREVA PARA O SERVIDOR A MENSAGEM		

		SE (MSG == SAIR)
			QUEBRA O LOOP
		FIMSE
	FIMENQUANTO
FIMSE
		
SENAO ERRO


_______________________

SERVIDOR

_______________________


SERVERSOCKET socketserver = CRIA O SERVERSOCKET // CRIA O SERVER NA PORTA 3000

ENQUANTO(INFINITO)
	ESPERANDO CLIENTE SE CONECTAR... 

	IN = STREAM DE ENTRADA DO SERVIDOR
	OUT = STREAM DE SAÍDA DO SERVIDOR

	LER O NOME DO CLIENTE(IN)
	ESCREVA('CLIENTE CONECTADO: ' NOME)

	ENVIA PARA O CLIENTE "OK" (OUT)

	MESSAGEHANDLER mess = INICIA A THREAD MESSAGE PARA QUE O SERVIDOR ESPERE POR OUTRO CLIENTE.
FIMENQUANTO.

_______________________

LISTENER THREAD
_______________________

BUFF buff;

RUN()
	ENQUANTO(INFINITO)
		ESCUTE()
	FIMENQUANTO
FIM

ESCUTE()
	SE( O BUFF NÃO É VAZIO)
		MESSAGE = BUFF.LEIA
		ESCREVA(MESSAGE)
	FIMSE
FIM





